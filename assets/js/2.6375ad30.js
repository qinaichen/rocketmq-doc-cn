(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{47:function(e,r,t){"use strict";t.r(r);var a=t(0),s=Object(a.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"content"},[t("p",[e._v("这里我们将详细的介绍如何在本机安装部署"),t("code",[e._v("RocketMQ")]),e._v("，然后进行发送和接收消息")]),t("h3",{attrs:{id:"系统要求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#系统要求","aria-hidden":"true"}},[e._v("#")]),e._v(" 系统要求")]),t("p",[e._v("环境要求：")]),t("ol",[t("li",[e._v("64位操作系统，推荐使用"),t("code",[e._v("Linux")]),e._v("、"),t("code",[e._v("Unix")]),e._v("、"),t("code",[e._v("Mac")])]),t("li",[e._v("64位 Jdk 1.8以上版本")]),t("li",[e._v("Maven3.2.x")]),t("li",[e._v("Git")])]),t("h4",{attrs:{id:"下载编译发行版"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#下载编译发行版","aria-hidden":"true"}},[e._v("#")]),e._v(" 下载编译发行版")]),t("p",[e._v("点击 "),t("a",{attrs:{href:"https://www.apache.org/dyn/closer.cgi?path=rocketmq/4.2.0/rocketmq-all-4.2.0-source-release.zip",target:"_blank",rel:"noopener noreferrer"}},[e._v("这里")]),e._v("\n下载"),t("code",[e._v("4.2.0")]),e._v("发行版源码，或者也可以"),t("a",{attrs:{href:"http://rocketmq.apache.org/release_notes/release-notes-4.2.0/",target:"_blank",rel:"noopener noreferrer"}},[e._v("下载")]),e._v("发布包")]),t("p",[e._v("执行下面的命令解压源码包，然后进行编译")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("unzip rocketmq-all-4.2.0-source-release.zip\ncd rocketmq-all-4.2.0/\nmvn -Prelease-all -DskipTests clean install -U\ncd distribution/target/apache-rocketmq\n")])]),t("h4",{attrs:{id:"启动name-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动name-server","aria-hidden":"true"}},[e._v("#")]),e._v(" 启动Name Server")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("nohup sh bin/mqnamesrv &\n")])]),t("p",[e._v("查看日志")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("tail -f ~/logs/rocketmqlogs/namesrv.log\n")])]),t("blockquote",[t("p",[e._v("The Name Server boot success…")])]),t("h4",{attrs:{id:"启动broker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#启动broker","aria-hidden":"true"}},[e._v("#")]),e._v(" 启动Broker")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("nohup sh bin/mqbroker -n localhost:9876 &\n")])]),t("p",[e._v("查看日志")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("tail -f ~/logs/rocketmqlogs/broker.log\n")])]),t("blockquote",[t("p",[e._v("The broker[%s, 172.30.30.233:10911] boot success…")])]),t("h4",{attrs:{id:"发送、接收消息"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#发送、接收消息","aria-hidden":"true"}},[e._v("#")]),e._v(" 发送、接收消息")]),t("p",[e._v("在发送和接收消息之前，我们需要告诉客户端 name server 的位置。"),t("code",[e._v("RocketMQ")]),e._v("提供了多种实现方式，简单起见，我们设置环境变量"),t("code",[e._v("NAMESRV_ADDR")])]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("> export NAMESRV_ADDR=localhost:9876\n> sh bin/tools.sh org.apache.rocketmq.example.quickstart.Producer\n\n SendResult [sendStatus=SEND_OK, msgId= ...\n\n> sh bin/tools.sh org.apache.rocketmq.example.quickstart.Consumer\n\n ConsumeMessageThread_%d Receive New Messages: [MessageExt...\n")])]),t("h3",{attrs:{id:"停止服务"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#停止服务","aria-hidden":"true"}},[e._v("#")]),e._v(" 停止服务")]),t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("> sh bin/mqshutdown broker\nThe mqbroker(36695) is running...\nSend shutdown request to mqbroker(36695) OK\n\n> sh bin/mqshutdown namesrv\nThe mqnamesrv(36664) is running...\nSend shutdown request to mqnamesrv(36664) OK\n")])])])}],!1,null,null,null);r.default=s.exports}}]);